\documentclass[a4paper, 12pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[top=2cm, bottom=2cm, left=2cm, right=2cm]{geometry}
\usepackage{graphicx}
\usepackage{amsmath, amsfonts, amssymb, xcolor}

\begin{document}

\begin{titlepage}
	\begin{center}
		\line(1,0){400} \\
		[0.25in]
		\huge{\bfseries Exercício Programa 1} \\
		[0.01in]
		\line(1,0){300} \\
		[0.5cm]
		\textsc{\Large MAC0422 - Sistemas Operacionais} \\
		[1.5cm]
		\textsc{\large Prof.: Alan Mitchell Durham}\\
		\textsc{\large Monitor: Waldir Edison Farfán Caro}\\
		[12cm]
	\end{center}
	\begin{flushright}
		\textsc{David de Barros Tadokoro}\\
		\textsc{NºUSP: 10300507}\\
		\textsc{Luís Davi Oliveira de Almeida Campos}\\
		\textsc{NºUSP: 11849460}\\
		\textsc{Abril de 2022}
	\end{flushright}
\end{titlepage}

\newpage

\section{Introdução}

Nesse primeiro EP, tivemos como objetivo implementar uma shell simplificada que faz chamadas de sistema predefinidas para alterar a proteção de arquivos e executar programas. Usamos a versão 3.1.2a do MINIX para rodar essa shell.

\section{Funcionamento da Shell}

O funcionamento da shell se dá por meio de um loop infinito, de modo que, a cada loop, lê-se da entrada padrão um comando e um arquivo que devem ser executados. Os comandos aceitos são 4 (+ 1):

\begin{itemize}
	\item protegepracaramba $<\textrm{caminho do arquivo}>$
	\item liberageral $<\textrm{caminho do arquivo}>$
	\item rodeveja $<\textrm{caminho do programa}>$
	\item rode $<\textrm{caminho do programa}>$
	\item sair
\end{itemize}

Esse último foi implementado para encerrar a shell de forma elegante.

\section{Proteção de Arquivos}

Nossa shell admite os seguintes comandos para a proteção de arquivos:
\begin{itemize}
\item protegepracaramba $<\textrm{caminho do arquivo}>$
\item liberageral $<\textrm{caminho do arquivo}>$
\end{itemize}

As implementações de ambas foram muito similares.  Nos dois casos,  fizemos apenas uma chamada de sistema \texttt{chmod()}, da seguinte forma:
\begin{align*}
\texttt{chmod(arquivo, proteção)}
\end{align*}


Aqui, \texttt{arquivo} é a string guarda o caminho do arquivo que se deseja alterar as permissões e \texttt{proteção} é o inteiro que guarda o código da proteção.  No caso de \texttt{protegepracaramba}, \texttt{proteção} = 0000. Já em \texttt{liberageral}, \texttt{proteção} = 0777.

\section{Execução de Programas}


\end{document}
